<section 
    class="signup-section" 
    fxLayoutAlign="center center"
>
    <mat-card *ngIf="!(isLoading$ | async)" fxFlex.xs="90%" class="signup-form-card">
        <mat-card-header fxLayoutAlign="center center">
            <mat-card-title>Sign Up</mat-card-title>
          </mat-card-header>
        <mat-card-content>
            <form 
                fxLayout="column" 
                fxLayoutAlign="center center"
                fxLayoutGap="10px"
                #signupForm="ngForm"
                (ngSubmit)="onSubmit(signupForm)"
            >
                <mat-form-field>
                    <input 
                        email
                        ngModel
                        matInput
                        required
                        type="email"
                        name="email"
                        placeholder="Email"
                        #emailInput="ngModel"
                    >
                    <mat-error *ngIf="emailInput.hasError('required')">Email field cannot be empty.</mat-error>
                    <mat-error *ngIf="!emailInput.hasError('required')">Invalid email.</mat-error>
                </mat-form-field>        
                <mat-form-field hintLabel="Minimum 7 characters required.">
                    <input 
                        ngModel
                        matInput
                        required
                        minlength="7"
                        type="password"
                        name="password"
                        placeholder="Password"
                        #passwordInput="ngModel"
                    >
                    <mat-hint align="end">{{ passwordInput?.value?.length }}/7</mat-hint>
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Date of Birth" [matDatepicker]="datePicker" ngModel name="birthdate" >
                    <mat-datepicker-toggle matSuffix [for]="datePicker"></mat-datepicker-toggle>
                    <mat-datepicker #datePicker></mat-datepicker>
                </mat-form-field>
         
                <mat-checkbox 
                    ngModel 
                    name="terms" 
                    required 
                    color="primary"
                >
                    I agree to the Terms and Conditions.
                </mat-checkbox>
          
                <button 
                    mat-raised-button 
                    color="primary"
                    type="submit"
                    [disabled]="signupForm?.invalid"
                >
                    Submit
                </button>
            </form>

        </mat-card-content>

    </mat-card>
    <mat-spinner *ngIf="isLoading$ | async"></mat-spinner>
</section>
